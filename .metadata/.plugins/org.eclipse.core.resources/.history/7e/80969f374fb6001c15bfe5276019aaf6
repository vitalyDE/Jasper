<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.2.0.final using JasperReports Library version 6.2.0  -->
<!-- 2022-04-07T13:39:20 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="results_protocols" pageWidth="550" pageHeight="792" whenNoDataType="BlankPage" columnWidth="550" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="1441f28b-7d07-4345-9ab0-29ec37bc3a8e">
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<parameter name="FORM_RESULT_ID" class="java.lang.String"/>
	<queryString language="plsql">
		<![CDATA[SELECT f.text            AS form
      ,(select distinct first_value(text) over (order BY sortcode desc) 
          from solution_form.form_item 
         where form_id = f.id
           and typ = 0 
           and sortcode < fi.sortcode) as ftitle
      ,fi.text           AS fres
      ,NVL(frv.c_text, frv.text) AS fval
      ,fi.note            AS fnote
      ,fi.sortcode
      ,fi.code as code
  FROM solution_form.form             f
      ,solution_form.form_item        fi
      ,solution_lab.form_result_value frv
 WHERE fi.form_id = f.id
   AND frv.form_item_id = fi.id
   AND fi.status = 1
   AND NVL(frv.c_text, frv.text) IS NOT NULL
   AND frv.form_result_id = $P{FORM_RESULT_ID}
 ORDER BY sortcode]]>
	</queryString>
	<field name="FORM" class="java.lang.String"/>
	<field name="FTITLE" class="java.lang.String"/>
	<field name="FRES" class="java.lang.String"/>
	<field name="FVAL" class="java.lang.String"/>
	<field name="FNOTE" class="java.lang.String"/>
	<field name="SORTCODE" class="java.lang.Integer"/>
	<field name="CODE" class="java.lang.String"/>
	<variable name="FVAL" class="java.lang.String">
		<variableExpression><![CDATA["<pre>" + org.apache.commons.lang.StringEscapeUtils.escapeHtml(RTRIM($F{FVAL})).replaceAll("(\\d+)(\\^)(\\d{1,2})","$1<sup>$3</sup>") + "</pre>"]]></variableExpression>
	</variable>
	<variable name="FNOTE" class="java.lang.String">
		<variableExpression><![CDATA["<pre>" + org.apache.commons.lang.StringEscapeUtils.escapeHtml($F{FNOTE}).replaceAll("(\\d+)(\\^)(\\d{1,2})","$1<sup>$3</sup>") + "</pre>"]]></variableExpression>
	</variable>
	<group name="TITLE">
		<groupExpression><![CDATA[$F{FTITLE}]]></groupExpression>
		<groupHeader>
			<band height="12">
				<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="0" y="0" width="550" height="12" isRemoveLineWhenBlank="true" uuid="8b14b71d-f4f3-4703-905d-441ac4287785">
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="9" isItalic="true"/>
						<paragraph firstLineIndent="0" leftIndent="18" rightIndent="0"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{FTITLE}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band>
				<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			</band>
		</groupFooter>
	</group>
	<detail>
		<band height="26">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="6" width="550" height="8" isRemoveLineWhenBlank="true" uuid="1b6378b4-9901-4bf1-9620-fb9f4567a49d">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="DejaVu Sans" size="9" isBold="true"/>
					<paragraph lineSpacing="Single" firstLineIndent="0" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CODE}.startsWith( "goal" ) ?  $F{FRES} :  null]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="18" width="550" height="8" isRemoveLineWhenBlank="true" uuid="72a68fda-2f95-4026-81d5-e91e40f03672">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="DejaVu Sans" size="9"/>
					<paragraph firstLineIndent="0" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CODE}.startsWith( "goal" ) ?  $F{FVAL} :  null]]></textFieldExpression>
			</textField>
		</band>
		<band height="20">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="550" height="8" isRemoveLineWhenBlank="true" uuid="a0783db5-c634-4c1b-b0c8-8653b9f7c3da">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="DejaVu Sans" size="9" isBold="true"/>
					<paragraph lineSpacing="Single" firstLineIndent="0" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CODE}.startsWith( "res" ) ?  $F{FRES} :  null]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="12" width="550" height="8" isRemoveLineWhenBlank="true" uuid="f0de3826-f0a2-4adc-affe-23620a73abab">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="DejaVu Sans" size="9"/>
					<paragraph firstLineIndent="0" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CODE}.startsWith( "res" ) ?  $F{FVAL} :  null]]></textFieldExpression>
			</textField>
		</band>
		<band height="20">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="550" height="8" isRemoveLineWhenBlank="true" uuid="3def9598-e137-4e39-985d-9f80fa8b1f44">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="DejaVu Sans" size="9" isBold="true"/>
					<paragraph lineSpacing="Single" firstLineIndent="0" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CODE}.startsWith( "spec" ) ?  $F{FRES} :  null]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="12" width="550" height="8" isRemoveLineWhenBlank="true" uuid="07510973-d93b-4c62-8505-e75785ab7013">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="DejaVu Sans" size="9"/>
					<paragraph firstLineIndent="0" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CODE}.startsWith( "spec" ) ?  $F{FVAL} :  null]]></textFieldExpression>
			</textField>
		</band>
		<band height="20">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="550" height="8" isRemoveLineWhenBlank="true" uuid="528706ce-853d-46ec-a172-a3019c507531">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="DejaVu Sans" size="9" isBold="true"/>
					<paragraph lineSpacing="Single" firstLineIndent="0" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CODE}.startsWith( "conc" ) ?  $F{FRES} :  null]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="12" width="550" height="8" isRemoveLineWhenBlank="true" uuid="3a9fa000-2d8f-445f-bd1d-3fbe59cef8eb">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="DejaVu Sans" size="9"/>
					<paragraph firstLineIndent="0" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CODE}.startsWith( "conc" ) ?  $F{FVAL} :  null]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
