<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.2.0.final using JasperReports Library version 6.2.0  -->
<!-- 2022-10-12T17:17:43 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="specimen" pageWidth="530" pageHeight="842" columnWidth="530" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="55f2a5fb-b675-4a67-bb7c-c6e13794d7dc">
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<parameter name="RESEARCH_ID" class="java.lang.String"/>
	<parameter name="LANG" class="java.lang.String"/>
	<queryString language="plsql">
		<![CDATA[SELECT med.fn_translate_text('Дата взятия', $P{LANG}) AS collect_date_title
     , med.fn_translate_text('Выполнено', $P{LANG})   AS result_date_title
     , med.fn_translate_text('Примечание', $P{LANG})  AS note_title
     , (CASE (SELECT max(cito)
                FROM lab.order_info oi
               WHERE r.id = oi.research_id)
          WHEN 1 THEN 'Cito!'
        END)                                          AS cito
     , a.finance                                      AS fincode
     , med.fn_translate_text(fin.text, $P{LANG})      AS finance
     , med.fn_translate_text(comp.text, $P{LANG})     AS company
     , med.fn_translate_text(sp.text, $P{LANG})       AS material
     , med.fn_translate_text(sps.text, $P{LANG})      AS material_place
     , r.ids                                          AS ids
     , to_char(r.regdate, 'dd.MM.yyyy hh24:mi')       AS reg_date
     , to_char(r.collectdate, 'dd.MM.yyyy hh24:mi')   AS collect_date
     , to_char(r.delivery_date, 'dd.MM.yyyy hh24:mi') AS delivery_date
     , to_char(r.result_date, 'dd.MM.yyyy hh24:mi')   AS result_date
     , med.fn_translate_text(
    CASE med.pkg_lab__get_common_print_type(r.id)
      WHEN 1 THEN 'Промежуточная печать'
      WHEN 2 THEN 'Фрагментарная печать'
      WHEN 3 THEN 'Промежуточная печать'
    END, $P{LANG})                                    AS print_type
     , med.fn_translate_text(r.note, $P{LANG})        AS note
     , med.fn_translate_text(r.note1, $P{LANG})       AS note1
     , med.fn_translate_text(r.note2, $P{LANG})       AS note2
  FROM lab.research r
  LEFT JOIN med.agr a ON a.keyid = r.agr_id
  LEFT JOIN med.company comp ON comp.keyid = a.companyid
  LEFT JOIN lab.lu sp ON sp.id = r.specimen_id
  LEFT JOIN lab.lu sps ON sps.id = r.collect_place_id
  LEFT JOIN med.lu fin ON fin.tag = 5 AND fin.code = a.finance
 WHERE r.id = $P{RESEARCH_ID}::BIGINT]]>
	</queryString>
	<field name="collect_date_title" class="java.lang.String"/>
	<field name="note_title" class="java.lang.String"/>
	<field name="result_date_title" class="java.lang.String"/>
	<field name="CITO" class="java.lang.String"/>
	<field name="FINCODE" class="java.lang.String"/>
	<field name="FINANCE" class="java.lang.String"/>
	<field name="COMPANY" class="java.lang.String"/>
	<field name="MATERIAL" class="java.lang.String"/>
	<field name="MATERIAL_PLACE" class="java.lang.String"/>
	<field name="IDS" class="java.lang.String"/>
	<field name="REG_DATE" class="java.lang.String"/>
	<field name="COLLECT_DATE" class="java.lang.String"/>
	<field name="DELIVERY_DATE" class="java.lang.String"/>
	<field name="RESULT_DATE" class="java.lang.String"/>
	<field name="PRINT_TYPE" class="java.lang.String"/>
	<field name="NOTE" class="java.lang.String"/>
	<field name="NOTE1" class="java.lang.String"/>
	<field name="NOTE2" class="java.lang.String"/>
	<pageHeader>
		<band height="2">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
		</band>
	</pageHeader>
	<detail>
		<band height="42" splitType="Prevent">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="200" height="14" isRemoveLineWhenBlank="true" uuid="21882266-5d37-4c46-8b6c-7602465d5efb">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="10"/>
					<paragraph spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{MATERIAL} + ($F{MATERIAL_PLACE} != null ? " (" + $F{MATERIAL_PLACE}  + ")" : "")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="200" y="0" width="90" height="14" isRemoveLineWhenBlank="true" uuid="7d8b6004-54e6-4ce8-8bc4-6ba425cab467">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="10" isBold="true"/>
					<paragraph spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CITO}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="290" y="0" width="135" height="14" isRemoveLineWhenBlank="true" uuid="e49058ab-dd53-4b83-903e-ef3270e1462d"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="10" isItalic="true"/>
					<paragraph leftIndent="0" rightIndent="5" spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PRINT_TYPE}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="380" y="14" width="45" height="28" uuid="4e432e49-8553-495a-9ada-d4b2c3f35311">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1"/>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font fontName="DejaVu Sans" size="10"/>
					<paragraph rightIndent="5"/>
				</textElement>
				<text><![CDATA[IDs:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="14" width="80" height="14" isRemoveLineWhenBlank="true" uuid="7383d547-3997-45b1-b0e8-e38c6a02895d">
					<printWhenExpression><![CDATA[1==0]]></printWhenExpression>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9"/>
					<paragraph spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{collect_date_title} + ":"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd.MM.yyyy HH:mm" isBlankWhenNull="true">
				<reportElement positionType="Float" x="80" y="14" width="120" height="14" isRemoveLineWhenBlank="true" uuid="4a81f38e-dfd3-4985-b1cf-a24538a5e9c7">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<printWhenExpression><![CDATA[1==0]]></printWhenExpression>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="10"/>
					<paragraph spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{COLLECT_DATE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="28" width="80" height="14" isRemoveLineWhenBlank="true" uuid="a99051de-7739-4f12-b10c-9a687e03b140">
					<printWhenExpression><![CDATA[$F{RESULT_DATE} != null]]></printWhenExpression>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9"/>
					<paragraph spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{result_date_title} + ":"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd.MM.yyyy HH:mm" isBlankWhenNull="true">
				<reportElement positionType="Float" x="80" y="28" width="120" height="14" isRemoveLineWhenBlank="true" uuid="aa15387e-982f-41f0-b5cd-c723147140ef">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<printWhenExpression><![CDATA[$F{RESULT_DATE} != null]]></printWhenExpression>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="10"/>
					<paragraph spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{RESULT_DATE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="425" y="28" width="105" height="14" isRemoveLineWhenBlank="true" uuid="49fa5d1b-b677-46ef-bfa3-b9ebf4879cbe">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box topPadding="1" leftPadding="5" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="DejaVu Sans Mono" size="10" isBold="false"/>
					<paragraph leftIndent="0" spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{IDS}]]></textFieldExpression>
			</textField>
			<componentElement>
				<reportElement x="425" y="0" width="105" height="28" uuid="c3fb7549-4859-4b43-b38e-f57556275561">
					<property name="com.jaspersoft.studio.unit.moduleWidth" value="pixel"/>
				</reportElement>
				<jr:Code128 xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" textPosition="none">
					<jr:codeExpression><![CDATA[$F{IDS}]]></jr:codeExpression>
				</jr:Code128>
			</componentElement>
		</band>
		<band height="14" splitType="Prevent">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<printWhenExpression><![CDATA[$F{NOTE} != null]]></printWhenExpression>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="80" height="14" isRemoveLineWhenBlank="true" uuid="a1e10f59-a2df-48db-aed4-ced6df61e712"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9"/>
					<paragraph leftIndent="0" spacingBefore="0" spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{note_title} + ":"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="80" y="0" width="450" height="14" isRemoveLineWhenBlank="true" uuid="3eb80360-c0e5-4227-88b5-acb9537b55b2">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="10"/>
					<paragraph leftIndent="0" spacingBefore="0" spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{NOTE}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="2" splitType="Prevent">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
		</band>
	</pageFooter>
</jasperReport>
